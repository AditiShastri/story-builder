
### Story Builder (Project Tale Loom ðŸ§µ)

Project Tale Loom ðŸ§µ application uses a multi-stage, AI-driven architecture to generate a complete story with accompanying images.

1.  **Story Generation**: The user's initial prompt is sent to the Django Web App, which then calls the Mistral large language model to generate a detailed story. This includes creating story content, character descriptions, and background details.
2.  **Image Prompt Creation**: The output from the first Mistral call is processed to generate specific image prompts for the character and background.
3.  **Image Generation**: These image prompts are then passed to the OFA-Sys/small-stable-diffusion-v0 model, which generates the individual character and background images.
4.  **Final Output**: The generated character and background images are combined into a single, cohesive image, and presented to the user along with the story.

### Project Setup and Execution

This guide provides a step-by-step process to set up and run the `story-builder` project.

#### Prerequisites

  * Python 3.x
  * Git

-----

### **Important Notes Before You Begin**

  * **Installation Time**: Installing the dependencies from `requirements.txt` may take several minutes.
  * **First-Time Model Download**: The very first time you run the application, the OFA-Sys/small-stable-diffusion-v0 image generation model will be downloaded. This is a large file and will take a significant amount of time depending on your internet speed. Subsequent runs will be much faster as the model will be cached.
  * **Response Time**: Generating a story using an AI model can be a time-consuming process. Please be patient while waiting for a response, especially if you're using a CPU to generate images.

-----

#### 1\. Clone the repository and set up a virtual environment

First, clone the project from its repository and navigate into the project directory. It is highly recommended to use a virtual environment to manage dependencies.

```bash
git clone https://github.com/AditiShastri/story-builder.git
cd story-builder
python -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts/activate`
```

#### 2\. Install dependencies

Install all required packages listed in the `requirements.txt` file.

```bash
pip install -r requirements.txt
```

#### 3\. Configure your Hugging Face API token

The project requires access to the Hugging Face Hub to use the story generation model. You will need to create a `.env` file in the project's root directory to store your API token.

1.  **Get your token**:

      * Sign up for or log in to Hugging Face.
      * Go to your profile settings and find "Access Tokens."
      * Generate a new fine grained token with "read" permissions and "inference" permissions.
      * <img width="1822" height="874" alt="Screenshot 2025-08-14 214612" src="https://github.com/user-attachments/assets/e0ac1dcc-05b2-4692-84f5-3adff95e1c2b" />

      * **Crucial**: Ensure you have agreed to share your contact information to access the `"mistralai/Mistral-7B-Instruct-v0.3"` model. This step is necessary to use the model.
      * <img width="1532" height="527" alt="Screenshot 2025-08-14 214543" src="https://github.com/user-attachments/assets/0bb79282-cf1f-4bc0-8c5f-988883c74e8c" />


2.  **Create `.env` file**:
    Create a file named `.env` in the root directory (the same folder as `manage.py`) and add the following line, replacing `"your_huggingface_token"` with your actual token:

    ```ini
    HUGGINGFACEHUB_API_TOKEN = "your_huggingface_token"
    ```

#### 4\. Prepare the database

Run the following commands to create the necessary database tables and apply any pending migrations.

```bash
python manage.py makemigrations
python manage.py migrate
```

#### 5\. Run the development server

Start the application by running the development server.

```bash
python manage.py runserver
```

The application should now be running on `http://127.0.0.1:8000/`. You can open this URL in your web browser to start using the story builder.

### Visuals
Here is an example of a story and a combined image generated by the application.

<img width="2128" height="1315" alt="Screenshot 2025-08-14 224854" src="https://github.com/user-attachments/assets/59515446-9f33-40b8-bb20-c1c413d42297" />
<img width="1609" height="1138" alt="image" src="https://github.com/user-attachments/assets/850857d2-fc1f-4ed5-8dfd-e1c427907df7" />
<img width="1595" height="1350" alt="image" src="https://github.com/user-attachments/assets/5f165dc3-2c4b-4b2d-9ba7-3838e5928222" />
<img width="1038" height="1360" alt="image" src="https://github.com/user-attachments/assets/46c2bb5c-bd72-4888-955a-d477a4911b22" />
<img width="993" height="1213" alt="image" src="https://github.com/user-attachments/assets/0fc53b03-01c5-495e-b342-43319e8e2bc2" />





